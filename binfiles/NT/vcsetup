
# Set up for running Visual C++ under Cygwin
# This script must be sourced.

# Visual Studio and SDK roots which can be over-ridden.
# The Visual Studio root must exist, but the SDK root is optional.
: ${VC_ROOT:="E:/Program Files/Microsoft Visual Studio"}
: ${SDK_ROOT:="E:/Program Files/Microsoft Platform SDK"}
: ${INTEL_ROOT:="C:/Program Files/Intel/Compiler/C++/10.0.025/IA32"}

cyg_VC_ROOT=$(cygpath $VC_ROOT)
if [[ ! -d $cyg_VC_ROOT ]]; then
  print -u2 "The root of the Visual C++ install, \"$cyg_VC_ROOT\", does not exist.  Set the environment variable VC_ROOT."
  return 1
fi

# Set up the environment for a VC build
export INCLUDE="$VC_ROOT/VC98/atl/include;$VC_ROOT/VC98/mfc/include;$VC_ROOT/VC98/include"
export LIB="$VC_ROOT/VC98/mfc/lib;$VC_ROOT/VC98/lib"
path=( /e/acs/bin /usr/local/bin "$cyg_VC_ROOT/Common/Tools/WinNT" "$cyg_VC_ROOT/Common/MSDev98/Bin" "$cyg_VC_ROOT/Common/Tools" "$cyg_VC_ROOT/VC98/bin" /e/LatestCygwinXEmacs/bin /usr/bin /usr/X11R6/bin /etc /c/WINDOWS/system32 /c/WINDOWS )

# Add SDK paths only if requested by a command-line argument
cyg_SDK_ROOT=$(cygpath $SDK_ROOT)
if [[ $* == *SDK* && -d $cyg_SDK_ROOT ]]; then
  INCLUDE="$SDK_ROOT/Include;$INCLUDE"
  LIB="$SDK_ROOT/Lib;$LIB"
  path[2]=( /usr/local/bin "$cyg_SDK_ROOT/Bin" "$cyg_SDK_ROOT/Bin/WinNT" )
fi

# Add Intel paths only if requested by a command-line argument
cyg_INTEL_ROOT=$(cygpath $INTEL_ROOT)
if [[ $* == *intel* && -d $cyg_INTEL_ROOT ]]; then
#  INCLUDE="$INTEL_ROOT/Include;$INCLUDE"
INCLUDE='C:\Program Files\Intel\Compiler\C++\10.0.025\Ia32\Include;E:\PROGRA~1\MICROS~2\VC98\ATL\INCLUDE;E:\PROGRA~1\MICROS~2\VC98\INCLUDE;E:\PROGRA~1\MICROS~2\VC98\MFC\INCLUDE;E:\Program Files\Microsoft Visual Studio\VC98\atl\include;E:\Program Files\Microsoft Visual Studio\VC98\mfc\include;E:\Program Files\Microsoft Visual Studio\VC98\include'
#  LIB="$INTEL_ROOT/Lib;$LIB"
LIB='C:\Program Files\Intel\Compiler\C++\10.0.025\Ia32\Lib;E:\PROGRA~1\MICROS~2\VC98\LIB;E:\PROGRA~1\MICROS~2\VC98\MFC\LIB;E:\Program Files\Microsoft Visual Studio\VC98\mfc\lib;E:\Program Files\Microsoft Visual Studio\VC98\lib'
  path[2]=( /usr/local/bin "$cyg_INTEL_ROOT/Bin" )
fi

#print -R INCLUDE=\"$INCLUDE\"
#print -R LIB=\"$LIB\"
#print -R path=\"$path\"

# Local Variables:
# mode: ksh
# sh-indentation: 2
# indent-tabs-mode: nil
# End:
